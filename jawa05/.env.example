# ========================================
# DONGTUBE API - Environment Variables
# ========================================
# Salin file ini ke .env dan isi dengan nilai yang sesuai
# Untuk production di Vercel, tambahkan semua variabel ini ke Project Settings â†’ Environment Variables

# ========================================
# REQUIRED - Wajib Diisi
# ========================================

# JWT Secret Key (WAJIB)
# Generate dengan: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# CRITICAL: Gunakan string random minimal 64 karakter untuk keamanan maksimal
JWT_SECRET=

# Database URL (WAJIB)
# Format PostgreSQL: postgresql://username:password@host:port/database?sslmode=require
# Contoh Vercel Postgres: postgres://default:abc123@ep-cool-darkness-123456.us-east-1.postgres.vercel-storage.com:5432/verceldb?sslmode=require
# Contoh Neon: postgresql://user:pass@ep-abc-123.us-east-2.aws.neon.tech/neondb?sslmode=require
# Contoh Supabase: postgresql://postgres:yourpassword@db.projectref.supabase.co:5432/postgres
DATABASE_URL=

# ========================================
# RECOMMENDED - Sangat Disarankan
# ========================================

# Node Environment (Vercel otomatis set ke production)
# Values: development | production | test
NODE_ENV=production

# Admin WhatsApp Number (untuk notifikasi dan upgrade VIP)
# Format: nomor lengkap dengan kode negara tanpa + atau spasi
# Contoh: 628123456789 (Indonesia)
# Contoh: 14155551234 (USA)
ADMIN_WHATSAPP_NUMBER=

# ========================================
# OPTIONAL - Database Configuration
# ========================================

# Database Connection Pool Settings
# Sesuaikan dengan limits dari database provider Anda
DB_POOL_MAX=10
DB_POOL_MIN=2
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000

# Database SSL Mode
# Values: disable | allow | prefer | require | verify-ca | verify-full
# RECOMMENDED: require (untuk production)
DB_SSL_MODE=require

# ========================================
# OPTIONAL - Application Settings
# ========================================

# Port (hanya untuk local development, Vercel ignore ini)
PORT=5000

# Rate Limiting
# Maksimal request per IP dalam window time (menit)
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=900000

# Request Timeout (ms)
REQUEST_TIMEOUT=60000

# Cache TTL (seconds)
CACHE_TTL=300

# ========================================
# OPTIONAL - API Keys untuk Third-Party Services
# ========================================
# Hanya tambahkan jika Anda menggunakan layanan berbayar
# Default: API menggunakan free endpoints

# OpenAI API Key (jika menggunakan AI features)
OPENAI_API_KEY=

# Google Cloud API Key (jika menggunakan Google services)
GOOGLE_API_KEY=

# ========================================
# OPTIONAL - Email Configuration (untuk notifications)
# ========================================

# SMTP Settings (jika menggunakan email notifications)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@dongtube-api.com
SMTP_FROM_NAME=Dongtube API

# ========================================
# OPTIONAL - Monitoring & Logging
# ========================================

# Log Level
# Values: error | warn | info | debug
LOG_LEVEL=info

# Sentry DSN (untuk error tracking)
SENTRY_DSN=

# Analytics Tracking ID
ANALYTICS_ID=

# ========================================
# VERCEL SYSTEM VARIABLES (Auto-set by Vercel)
# ========================================
# Variabel berikut otomatis tersedia di Vercel, JANGAN set manual:
# - VERCEL=1
# - VERCEL_ENV=production|preview|development
# - VERCEL_URL=your-project-hash.vercel.app
# - VERCEL_REGION=iad1 (atau region lainnya)
# - VERCEL_GIT_COMMIT_SHA=abc123...
# - VERCEL_GIT_COMMIT_MESSAGE="your commit message"
# - VERCEL_GIT_COMMIT_AUTHOR_NAME="Your Name"
# - VERCEL_GIT_REPO_OWNER="username"
# - VERCEL_GIT_REPO_SLUG="repo-name"

# ========================================
# SECURITY NOTES
# ========================================
# 1. JANGAN PERNAH commit file .env ke Git
# 2. Pastikan .env ada di .gitignore
# 3. Untuk Vercel production: Set semua variabel via Dashboard
# 4. Untuk local development: Gunakan `vercel env pull` untuk sync dari Vercel
# 5. Rotate JWT_SECRET secara berkala (minimal 6 bulan sekali)
# 6. Gunakan strong passwords untuk DATABASE_URL
# 7. Enable SSL/TLS untuk database connections (sslmode=require)

# ========================================
# QUICK START
# ========================================
# 1. Copy file ini:
#    cp .env.example .env
#
# 2. Generate JWT_SECRET:
#    node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
# 3. Setup Database:
#    - Buat PostgreSQL database (Vercel Postgres / Neon / Supabase)
#    - Copy connection string ke DATABASE_URL
#
# 4. Isi ADMIN_WHATSAPP_NUMBER:
#    - Nomor WhatsApp admin untuk notifikasi VIP
#
# 5. Test locally:
#    npm install
#    npm start
#
# 6. Deploy to Vercel:
#    - Push ke GitHub
#    - Import project di Vercel
#    - Add environment variables di Project Settings
#    - Deploy
